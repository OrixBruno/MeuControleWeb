@model ReceitaViewModel
<script>
    function Sucesso(response) {
        alert("Cadastrado com sucesso");
        return response;
    }

    function Error(response) {
        
    }
</script>

@Html.Partial("_PartialModal")

<div id="divCarregando" class="progresso">
    <img src="@Url.Content("~/Content/images/carregando.gif")" />
    <br />
    Carregando...
</div>

@using (Ajax.BeginForm(ViewContext.RouteData.Values["action"].ToString(), "Receita", new AjaxOptions
{
    LoadingElementId = "divCarregando",
    HttpMethod = "POST",
    OnSuccess = "Sucesso",
    OnFailure = "Error"
}))
{
    @Html.AntiForgeryToken()

    <div class="form-horizontal">
        <hr />
        @Html.ValidationSummary(true)
        <div class="form-group">
            @Html.LabelFor(model => model.Valor, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Valor)
                @Html.ValidationMessageFor(model => model.Valor)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.DataEfetuada, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.DataEfetuada)
                @Html.ValidationMessageFor(model => model.DataEfetuada)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Repetir, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Repetir)
                @Html.ValidationMessageFor(model => model.Repetir)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.Efetuada, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.EditorFor(model => model.Efetuada)
                @Html.ValidationMessageFor(model => model.Efetuada)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.TipoID, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownListFor(model => model.TipoID, new SelectList((List<TipoViewModel>)ViewBag.Tipos, "ID", "Descricao"), "Selecione...")
                @Html.ValidationMessageFor(model => model.TipoID)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.CategoriaID, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownListFor(model => model.CategoriaID, new SelectList((List<CategoriaViewModel>)ViewBag.Categorias, "ID", "Descricao"), "Selecione...")
                @Html.ValidationMessageFor(model => model.CategoriaID)
            </div>
        </div>

        <div class="form-group">
            @Html.LabelFor(model => model.ContaID, htmlAttributes: new { @class = "control-label col-md-2" })
            <div class="col-md-10">
                @Html.DropDownListFor(model => model.ContaID, new SelectList((List<ContaViewModel>)ViewBag.Contas, "ID", "Nome"), "Selecione...")
                @Html.ValidationMessageFor(model => model.ContaID)
            </div>
        </div>

        <div class="form-group">
            <div class="col-md-offset-2 col-md-10">
                <input type="submit" value="Salvar" class="btn btn-default" />
                <input type="reset" value="Limpar" class="btn btn-danger" />
            </div>
        </div>
    </div>
}
